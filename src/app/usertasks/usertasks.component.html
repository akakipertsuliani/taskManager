<app-header [getAuth]="isUserHere" [navElement1]="['Home', '/user']" [navElement2]="['Task', '/task']" [navElement3]="['Future', '/future']" [navElement4]="['My goal', '/mygoal']"></app-header>

<section class="w-screen h-screen flex flex-col justify-center items-center bg-gradient-to-r from-blue-500 to-teal-500 bg-opacity-75">
    <div class="w-full max-w-xl mb-4">
        <div class="relative">
            <select (change)="getCategoryValue($event)" class="block w-full p-2 rounded-lg bg-white border border-gray-300 focus:outline-none focus:border-blue-500 appearance-none">
                <option *ngFor="let category of todoCategory" [value]="category.value" class="text-green-700 hover:bg-green-600">{{ category.label }}</option>
            </select>
            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path>
                </svg>
            </div>
        </div>
    </div>


    <div class="w-full max-w-xl flex flex-row flex-wrap justify-center items-start bg-white rounded-lg shadow-lg p-4">
        <div class="w-full sm:w-1/3 p-2 overflow-y-auto">
            <h2 class="text-base font-semibold mb-2 text-blue-600">To do</h2>
            <div 
                cdkDropList 
                cdkDrag
                #todoList="cdkDropList" 
                [cdkDropListData]="todo" 
                [cdkDropListConnectedTo]="[proggressList, doneList]" 
                class="example-list space-y-2"
                (cdkDropListDropped)="drop($event)"
            >
                <div class="example-box bg-blue-100 p-3 rounded-md shadow-sm hover:bg-blue-200" *ngFor="let item of todo" cdkDrag>
                    {{ item }}
                </div>
                <div class="example-box bg-transparent p-3 rounded-md shadow-sm" *ngIf="todo.length === 0" cdkDragPlaceholder></div>
            </div>
        </div>

        <div class="w-full sm:w-1/3 p-2 overflow-y-auto">
            <h2 class="text-base font-semibold mb-2 text-yellow-600">In Progress</h2>
            <div 
                cdkDropList
                cdkDrag
                #proggressList="cdkDropList" 
                [cdkDropListData]="proggress" 
                [cdkDropListConnectedTo]="[todoList, doneList]" 
                class="example-list space-y-2"
                (cdkDropListDropped)="drop($event)"
            >
                <div class="example-box bg-yellow-100 p-3 rounded-md shadow-sm hover:bg-yellow-200" *ngFor="let item of proggress" cdkDrag>
                    {{ item }}
                </div>
                <div class="example-box bg-transparent p-3 rounded-md shadow-sm" *ngIf="proggress.length === 0" cdkDragPlaceholder></div>
            </div>
        </div>

        <div class="w-full sm:w-1/3 p-2 overflow-y-auto">
            <h2 class="text-base font-semibold mb-2 text-green-600">Done</h2>
            <div 
                cdkDropList 
                cdkDrag
                #doneList="cdkDropList" 
                [cdkDropListData]="done" 
                [cdkDropListConnectedTo]="[todoList, proggressList]" 
                class="example-list space-y-2"
                (cdkDropListDropped)="drop($event)"
            >
                <div class="example-box bg-green-100 p-3 rounded-md shadow-sm hover:bg-green-200" *ngFor="let item of done" cdkDrag>
                    {{ item }}
                </div>
                <div class="example-box bg-transparent p-3 rounded-md shadow-sm" *ngIf="done.length === 0" cdkDragPlaceholder></div>
            </div>
        </div>
    </div>
    <button (click)="openDialog()" class="m-10 flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-lg shadow-md hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75">
        <i class="fa-solid fa-plus mr-2"></i>
        Add to do
    </button>
</section>
